<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/tailwind/index.css">
  
   <link rel="stylesheet" href="./prismJS/prismSolarizedLight.css">


  <script src="/js/main.bundle.js" defer></script>


  <!-- netlify cms -->
  <script defer src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>


  <!-- Swiper -->

  <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">




  <style>
      
  

    .swiper {
      width: 100%;
      padding-top: 50px;
      padding-bottom: 150px;
    
    }

    .swiper-slide {
    
      width: 250px;
      height: 300px;
      -webkit-box-reflect: below 1px linear-gradient(transparent, transparent,#0006);
     
    }

    .swiper-slide img {
      width: 100%;
      height: 300px;
      object-fit: cover;
    }


  </style>


  <title>counter</title>
  

</head>




<body  class="relative bg-s-t1a1 text-l1-a1 font-mono -p">


<!-- Dark Mode Toggle -->
<div id="dark-mode-toggle" class="absolute top-2 right-2  -btn-scale-down" title="Switch Theme">

    <svg class="w-8 h-8" viewBox="0 0 496 496"><path fill="currentColor" d="M8,256C8,393,119,504,256,504S504,393,504,256,393,8,256,8,8,119,8,256ZM256,440V72a184,184,0,0,1,0,368Z" transform="translate(-8 -8)"/></svg>


</div>


<div class="flex flex-col justify-between min-h-screen">

    <div>
        
<header class="p-4 mb-4 bg-s-t1a3 shadow-lg">

  
<nav class="flex flex-wrap justify-start gap-4">

    <a class="p-2 rounded-lg" href="/">Home</a>
    <a class="p-2 rounded-lg" href="/slideshow/images/">Images</a>
    <a class="p-2 rounded-lg" href="/blog/">Blog</a>
    <a class="p-2 rounded-lg" href="/about/">About</a>
    <a class="p-2 rounded-lg" href="/counter/">Counter</a>
 
</nav>




</header>



<!-- Javascript -->


<script>



    // Style the active menu item based on URL
    
    const currentLocation = location.href;
    
    const menuItem = document.querySelectorAll('a')
    
    const menuLength = menuItem.length
    
    for (let i=0; i<menuLength; i++) {
    
        if(menuItem[i].href === currentLocation) {
    
            menuItem[i].classList.add('bg-b-t1l2a1') 
        }
    }
    
    
    
    /*
    
    ### 11ty uses trailing slash. So, you should use trailing slash in the html otherwise the code of styling the active menu item based on URL will not work.
    
    
    
    
    
    
    If you check, you will find out that 11ty uses trailing slashes! Example - 
    
    http://localhost:8080/blog/
    
    http://localhost:8080/about/
    
    
    So, when you are writing html, you need to make sure that you are using trailing slashes! Example - 
    
    <a href="/blog/">Blog</a>
    <a href="/about/">About</a>
    
    If you don't use trailing slashes in the html, like the following example:
    
    <a href="/blog">Blog</a>
    <a href="/about">About</a>
    
    it will still work. You will be able to navigate without any problem. But you will have problem if you want to style active item. 
    
    
    Suppose, you are in the blog page. If you check 'location.href' in the console, it will be: 
    
    'http://localhost:8080/blog/'
    
    
    But if you don't use trailing slash in the html and if you check 'document.querySelectorAll('a')[i].href' for the blog page, it will be:
    
    'http://localhost:8080/blog'
    
    
    
    So, `location.href` and  `document.querySelectorAll('a')[i].href` will not be the same if you don't use trailing slash in the html. 
    
    And your code of styling the active item based on URL will not work as you need to check `document.querySelectorAll('a')[i].href === location.href` for that.
    
    
    So, make sure that you are using trailing slash in the html as 11ty uses trailing slash. 
    
    
    */
    
    
    
    
    </script>
    


        


        <main>


<div class="p-8 text-center space-y-8">
     
   <span class="p-4 -h3 bg-s-t1a3 shadow">Counter</span>


    <div class="-h3 js_value">0</div>


    <div>
          <button class="-btn -btn-md -btn-color-t1l1 js_btn js_decrease">decrease</button>

          <button class="-btn -btn-md -btn-color-t1l1 js_btn  js_reset">reset</button>


          <button class="-btn -btn-md -btn-color-t1l1 js_btn  js_increase">increase</button>

    </div>


</div>



<!-- Javascript -->



<script>


    // select value and buttons
    const value = document.querySelector(".js_value");
    const btns = document.querySelectorAll(".js_btn");
    
    
    // declaring variable which will used in the counter
    let count;
    
    
    
    /* Retrieve value if the user previously visited and used counter. But if it's the first that the user is using counter, then set the initial value to 0. */
    
    
    let retrieve_data = function () {
    
      let initial_value = localStorage.getItem('value_local'); 
    
      if (initial_value === null) {
    
        value.textContent = 0
        count = 0
      }  
    
      else {
    
         value.textContent = parseInt(initial_value)
    
         count = parseInt(initial_value)
    
      }
    
    }
    
    retrieve_data();
    
     
    
    
    
    //  functionality of the counter
    
    
    
    
    btns.forEach(function (btn) {
    
      btn.addEventListener("click", function (e) {
    
        const styles = e.currentTarget.classList;
    
        if (styles.contains("js_decrease")) {
          count--;
    
        } else if (styles.contains("js_increase")) {
          count++;
    
        } else {
          count = 0;
        }
      
    
        value.textContent = count;
    
    
    
    
        // Change value according to color
    
        if (count > 0) {
          value.style.color = "hsl(160,50%,45%)";
        }
        if (count < 0) {
          value.style.color = "hsl(0,50%,45%)";
        }
        if (count === 0) {
          value.style.color = "	hsl(0, 0%, 45%)";
        }
    
    
    
      // saving the counter value in the local storage
    
        let counter = localStorage.setItem('counter','value_local');
    
        localStorage.value_local = count;
    
    
        
        });
    
    
      });
    </script></main>
        


    </div>


    <div>

        <footer class="p-4 mt-4 bg-s-t1a4 shadow-lg flex justify-center">

<span class="p-2 -h5 bg-s-t1a5"> 
    &copy; <span class="js_footer"></span>
</span>
     




</footer>



<!-- Javascript -->

<script>

   function  hello () {

let date = new window.Date();   

let year = date.getFullYear();

return document.querySelector('.js_footer').innerHTML = year;

}

hello();
</script>



    </div>


</div>





<!-- Javascript -->
<script>
    const darkModeToggle = document.querySelector('#dark-mode-toggle');
    
    const enableDarkMode = () => {
      // 1. Add the class to the body
      document.body.classList.add('dark');
      // 2. Update darkMode in localStorage
      localStorage.setItem('darkMode', 'enabled');
    }
    
    const disableDarkMode = () => {
      // 1. Remove the class from the body
      document.body.classList.remove('dark');
      // 2. Update darkMode in localStorage 
      localStorage.setItem('darkMode', null);
    }
      
    
    // check for saved 'darkMode' in localStorage
    let darkMode = localStorage.getItem('darkMode'); 
    
    
    // If the user already visited and enabled darkMode
    // start things off with it on
    if (darkMode === 'enabled') {
      enableDarkMode();
    }
    
    // When someone clicks the button
    darkModeToggle.addEventListener('click', () => {
      // get their darkMode setting
      let mode = localStorage.getItem('darkMode'); 
      
      // if it not current enabled, enable it
      if (mode !== 'enabled') {
        enableDarkMode();
      // if it has been enabled, turn it off  
      } else {  
        disableDarkMode(); 
      }
    
    
    });
    
    
</script>


<script>
    if (window.netlifyIdentity) {
      window.netlifyIdentity.on("init", user => {
        if (!user) {
          window.netlifyIdentity.on("login", () => {
            document.location.href = "/admin/";
          });
        }
      });
    }
  </script>


   

</body>
</html>
